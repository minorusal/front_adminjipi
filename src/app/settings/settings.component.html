<nav class="breadcrumb">Inicio / Configuración</nav>
<h2>Configuración</h2>

<div class="form-container">
<form [formGroup]="menuForm" (ngSubmit)="onSubmit()" class="menu-form">
  <h3>Agrega tu menú</h3>

  <div class="form-group">
    <label for="name">Nombre del menú</label>
    <input id="name" type="text" formControlName="name" />
  </div>

  <div class="form-group">
    <label for="url">URL del menú</label>
    <input id="url" type="text" formControlName="url" />
  </div>

  <div class="form-group">
    <label for="parent">Menú padre</label>
    <input
      id="parent"
      type="text"
      list="parentOptions"
      formControlName="parent"
      placeholder="Seleccione un menú padre"
    />
    <datalist id="parentOptions">
      <option *ngFor="let m of parentMenus" [value]="m.id">{{ m.name }}</option>
    </datalist>
  </div>

  <div class="form-actions">
    <button type="submit">Guardar</button>
  </div>
</form>

  <div class="menu-tree" *ngIf="menuTree && menuTree.length">
    <h3>Estructura de menús</h3>
    <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
      <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding>
        <button mat-icon-button disabled></button>
        <mat-icon class="node-icon">insert_drive_file</mat-icon>
        {{ node.name }}
      </mat-tree-node>
      <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
        <div class="mat-tree-node">
          <button
            mat-icon-button
            matTreeNodeToggle
            [attr.aria-label]="'toggle ' + node.name"
          >
            <mat-icon>
              {{ treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right' }}
            </mat-icon>
          </button>
          <mat-icon class="node-icon">
            {{ treeControl.isExpanded(node) ? 'folder_open' : 'folder' }}
          </mat-icon>
          {{ node.name }}
        </div>
        <div class="tree-children">
          <ng-container matTreeNodeOutlet></ng-container>
        </div>
      </mat-nested-tree-node>
    </mat-tree>
  </div>
</div>
