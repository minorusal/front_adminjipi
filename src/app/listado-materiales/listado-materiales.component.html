<h2>Listado de materiales</h2>
<div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>
<div class="controls">
  <label for="pageSize">Elementos por página:</label>
  <select id="pageSize" [(ngModel)]="pageSize" (ngModelChange)="changePageSize($event)">
    <option *ngFor="let size of [10,20,30,40,50]" [value]="size">{{ size }}</option>
  </select>
</div>
<table class="materials-table">
  <thead>
    <tr>
      <th>ID</th>
      <th>Nombre</th>
      <th>Descripción</th>
      <th>Espesor (mm)</th>
      <th>Ancho (m)</th>
      <th>Largo (m)</th>
      <th>Precio</th>
    </tr>
    <tr>
      <th><input class="filter-input" type="text" [(ngModel)]="filterId" (ngModelChange)="onFilterChange()" placeholder="Filtrar" /></th>
      <th><input class="filter-input" type="text" [(ngModel)]="filterNombre" (ngModelChange)="onFilterChange()" placeholder="Filtrar" /></th>
      <th><input class="filter-input" type="text" [(ngModel)]="filterDescripcion" (ngModelChange)="onFilterChange()" placeholder="Filtrar" /></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let material of filteredItems">
      <td>{{ material.id }}</td>
      <td>{{ material.name }}</td>
      <td>{{ material.description }}</td>
      <td>{{ material.thickness_mm }}</td>
      <td>{{ material.width_m }}</td>
      <td>{{ material.length_m }}</td>
      <td>{{ material.price }}</td>
    </tr>
  </tbody>
</table>
<div class="paginator" *ngIf="totalPages > 1">
  <button (click)="goToPage(currentPage - 1)" [disabled]="currentPage === 1">Anterior</button>
  <button *ngFor="let page of [].constructor(totalPages); let i = index" (click)="goToPage(i+1)" [class.active]="currentPage === i+1">{{ i + 1 }}</button>
  <button (click)="goToPage(currentPage + 1)" [disabled]="currentPage === totalPages">Siguiente</button>
</div>
